
- NASM Map file ---------------------------------------------------------------

Source file:  subst.asm
Output file:  ./bin/SUBST.COM

-- Program origin -------------------------------------------------------------

00000000

-- Sections (summary) ---------------------------------------------------------

Vstart            Start             Stop              Length    Class     Name
               0                 0               583  00000583  progbits  .text
             588               588               78A  00000202  nobits    transient

-- Sections (detailed) --------------------------------------------------------

---- Section .text ------------------------------------------------------------

class:     progbits
length:                 583
start:                    0
align:     not defined
follows:   not defined
vstart:                   0
valign:    not defined
vfollows:  not defined

---- Section transient --------------------------------------------------------

class:     nobits
length:                 202
start:                  588
align:                    8
follows:   not defined
vstart:                 588
valign:                   8
vfollows:  .text

-- Symbols --------------------------------------------------------------------

---- No Section ---------------------------------------------------------------

Value     Name
00000000  dpb
00000000  dpb.bDriveNumber
00000001  dpb.bUnitNumber
00000002  dpb.wBytesPerSector
00000004  dpb.bMaxSectorInCluster
00000005  dpb.bSectorsPerClusterShift
00000006  dpb.wFAToffset
00000008  dpb.bNumberOfFATs
00000009  dpb.wNumberRootDirEntries
0000000B  dpb.dClusterHeapOffset
0000000F  dpb.dClusterCount
00000013  dpb.dFATlength
00000017  dpb.dFirstUnitOfRootDir
0000001B  dpb.qDriverHeaderPtr
00000023  dpb.bMediaDescriptor
00000024  dpb.bAccessFlag
00000025  dpb.qNextDPBPtr
0000002D  dpb.dFirstFreeCluster
00000031  dpb.dNumberOfFreeClusters
00000035  dpb_size
00000FF5  fat12MaxClustCnt
0000FFF5  fat16MaxClustCnt
00000000  cds
00000000  cds.sCurrentPath
00000043  cds.wFlags
00000045  cds.qDPBPtr
0000004D  cds.dStartCluster
00000051  cds.qIFSPtr
00000059  cds.dNetStore
0000005D  cds.wBackslashOffset
0000005F  cds_size
00008000  cdsRedirDrive
00004000  cdsValidDrive
00002000  cdsJoinDrive
00001000  cdsSubstDrive
00000080  cdsRdirLocDrive
00000000  sfth
00000000  sfth.qNextSFTPtr
00000008  sfth.wNumFiles
0000000A  sfth_size
00000000  sft
00000000  sft.wNumHandles
00000002  sft.wOpenMode
00000004  sft.bFileAttrib
00000005  sft.wDeviceInfo
00000007  sft.qPtr
0000000F  sft.dStartClust
00000013  sft.wTime
00000015  sft.wDate
00000017  sft.dFileSize
0000001B  sft.dCurntOff
0000001F  sft.dRelClust
00000023  sft.dAbsClusr
00000027  sft.qDirSect
0000002F  sft.bNumDirEnt
00000030  sft.sFileName
0000003B  sft.qSharePtr
00000043  sft.wMachNum
00000045  sft.qPSPOwner
0000004D  sft.wShareRec
0000004F  sft_size
00000000  ReadAccess
00000001  WriteAccess
00000002  RWAccess
00000000  CompatShare
00000010  denyRWShare
00000020  denyWriteShare
00000030  denyReadShare
00000040  denyNoneShare
00000070  netFCBShare
00000080  noInherit
00002000  diskFullFail
00004000  noBufferWrites
00008000  FCBopenedFile
00000001  readOnlyFile
00000002  hiddenFile
00000004  systemFile
00000008  volLabelFile
00000010  directoryFile
00000020  archiveFile
00000040  charFile
00000001  charDevConIn
00000002  charDevConOut
00000004  charDevNulDev
00000008  charDevClockDev
00000010  charDevFastOut
00000020  charDevBinary
00000040  charDevNoEOF
00000040  blokFileNoFlush
00000080  devCharDev
00000800  charDevNetSpool
00001000  devNoInherit
00002000  charDevNamePipe
00004000  blokNoDTonClose
00008000  devRedirDev
00000000  bufferHdr
00000000  bufferHdr.nextBufPtr
00000008  bufferHdr.wDrvNumFlg
00000008  bufferHdr.driveNumber
00000009  bufferHdr.bufferFlags
0000000A  bufferHdr.bufferLBA
00000012  bufferHdr.bufFATcopy
00000013  bufferHdr.bufFATsize
00000017  bufferHdr.driveDPBPtr
0000001F  bufferHdr.reserved
00000020  bufferHdr.dataarea
00000020  bufferHdr_size
00000001  dosBuffer
00000002  fatBuffer
00000004  dirBuffer
00000008  dataBuffer
00000020  refBuffer
00000040  dirtyBuffer
000000FF  freeBuffer
00000000  mcb
00000000  mcb.marker
00000001  mcb.owner
00000009  mcb.blockSize
0000000D  mcb.subSysMark
0000000E  mcb.reserved
00000010  mcb.program
00000010  mcb_size
00000007  mcbOwnerHole
00000000  mcbOwnerFree
00000008  mcbOwnerDOS
00000009  mcbOwnerNewDOS
0000004D  mcbMarkCtn
0000005A  mcbMarkEnd
00000044  mcbSubDriver
0000004C  mcbSubDrvExtra
00000050  mcbSubDrvDPB
00000049  mcbSubIFS
00000046  mcbSubFiles
00000058  mcbSubFCBS
00000042  mcbSubBuffers
0000004C  mcbSubCDS
00000053  mcbSubStacks
00000000  memFirstFit
00000001  memBestFit
00000002  memLastFit
00000000  callerFrame
00000000  callerFrame.rax
00000008  callerFrame.rbx
00000010  callerFrame.rcx
00000018  callerFrame.rdx
00000020  callerFrame.rsi
00000028  callerFrame.rdi
00000030  callerFrame.rbp
00000038  callerFrame.r8
00000040  callerFrame.r9
00000048  callerFrame.rip
00000050  callerFrame.cs
00000058  callerFrame.flags
00000060  callerFrame_size
00000000  dpl
00000000  dpl.rax
00000008  dpl.rbx
00000010  dpl.rcx
00000018  dpl.rdx
00000020  dpl.rsi
00000028  dpl.rdi
00000030  dpl.r8
00000038  dpl.r9
00000040  dpl.align
00000048  dpl.compID
00000050  dpl.procID
00000058  dpl_size
00000000  cfgFrame
00000000  cfgFrame.oldRBP
00000008  cfgFrame.newBuffers
00000010  cfgFrame.newSFTVal
00000018  cfgFrame.newFCBSVal
00000020  cfgFrame.newProtFCBSVal
00000028  cfgFrame.newLastdrive
00000030  cfgFrame.newStacks
00000038  cfgFrame.newStackSize
00000040  cfgFrame.cfgHandle
00000048  cfgFrame.lastLine
00000050  cfgFrame.linePtr
00000058  cfgFrame.driverBreak
00000060  cfgFrame.breakChar
00000068  cfgFrame_size
00000000  filename
00000000  filename.fName
00000008  filename.fExt
0000000B  filename_size
00000000  ffBlock
00000000  ffBlock.driveNum
00000001  ffBlock.template
0000000C  ffBlock.attrib
0000000D  ffBlock.dirOffset
00000011  ffBlock.parDirClus
00000015  ffBlock.attribFnd
00000016  ffBlock.fileTime
00000018  ffBlock.fileDate
0000001A  ffBlock.fileSize
0000001E  ffBlock.asciizName
0000002B  ffBlock_size
00000014  dfltJFTsize
00000000  psp
00000000  psp.return
00000002  psp.allocSize
0000000A  psp.oldInt22h
00000012  psp.oldInt23h
0000001A  psp.oldInt24h
00000022  psp.parentPtr
0000002A  psp.externalJFTPtr
0000002A  psp.jobFileTbl
0000003E  psp.envPtr
00000046  psp.rspPtr
0000004E  psp.jftSize
00000050  psp.unixEntry
00000053  psp.prevPSP
0000005C  psp.cmdLineArgPtr
0000005C  psp.fcb1
0000006C  psp.fcb2
00000080  psp.dta
00000080  psp.parmList
00000081  psp.progTail
00000100  psp_size
00000000  clkStruc
00000000  clkStruc.dateWord
00000002  clkStruc.minutes
00000003  clkStruc.hours
00000004  clkStruc.hseconds
00000005  clkStruc.seconds
00000006  clkStruc_size
00000000  extCtryStruc
00000000  extCtryStruc.infoIDCode
00000001  extCtryStruc.strucSize
00000003  extCtryStruc.ctryID
00000005  extCtryStruc.cpNumber
00000007  extCtryStruc.dtfmt
00000009  extCtryStruc.curr
0000000E  extCtryStruc.thouSep
00000010  extCtryStruc.dcmlSep
00000012  extCtryStruc.dateSep
00000014  extCtryStruc.timeSep
00000016  extCtryStruc.currFmt
00000017  extCtryStruc.digtdpt
00000018  extCtryStruc.timefmt
00000019  extCtryStruc.mapptr
00000021  extCtryStruc.dataSep
00000023  extCtryStruc.resv
0000002D  extCtryStruc_size
00000000  countryStruc
00000000  countryStruc.dtfmt
00000002  countryStruc.curr
00000007  countryStruc.thouSep
00000009  countryStruc.dcmlSep
0000000B  countryStruc.dateSep
0000000D  countryStruc.timeSep
0000000F  countryStruc.currFmt
00000010  countryStruc.digtdpt
00000011  countryStruc.timefmt
00000012  countryStruc.mapptr
0000001A  countryStruc.dataSep
0000001C  countryStruc.resv
00000026  countryStruc_size
00000000  critRead
00000001  critWrite
00000000  critDOS
00000002  critFAT
00000004  critDir
00000006  critData
00000008  critFailOK
00000010  critRetryOK
00000020  critIgnorOK
00000080  critCharDev
00000000  critIgnore
00000001  critRetry
00000002  critAbort
00000003  critFail
00000000  NUL
00000003  ETX
00000006  ACK
00000007  BEL
00000008  BSP
00000009  TAB
0000000A  LF
0000000D  CR
00000010  DLE
00000013  DC3
00000014  DC4
00000015  NAK
00000017  ETB
0000001A  EOF
0000001B  ESC
00000020  SPC
0000007F  DEL
00000020  asciiCaret
0000003B  eF1
0000003C  eF2
0000003D  eF3
0000003E  eF4
0000003F  eF5
00000040  eF6
00000041  eF7
0000004B  eCursL
0000004D  eCursR
00000052  eIns
00000053  eDel
0000001E  buffersDefault
00000014  filesDefault
00000004  fcbsDefault
00000000  safeFcbsDeflt
00000005  lastDriveDeflt
00000001  badChar
00000002  termChar
00000004  sepChar
00000008  badFCBChar
00000000  fatDirEntry
00000000  fatDirEntry.name
0000000B  fatDirEntry.attribute
0000000C  fatDirEntry.ntRes
0000000D  fatDirEntry.crtTimeT
0000000E  fatDirEntry.crtTime
00000010  fatDirEntry.crtDate
00000012  fatDirEntry.lastAccDat
00000014  fatDirEntry.fstClusHi
00000016  fatDirEntry.wrtTime
00000018  fatDirEntry.wrtDate
0000001A  fatDirEntry.fstClusLo
0000001C  fatDirEntry.fileSize
00000020  fatDirEntry_size
00000001  errInvFnc
00000002  errFnf
00000003  errPnf
00000004  errNhl
00000005  errAccDen
00000006  errBadHdl
00000007  errMCBbad
00000008  errNoMem
00000009  errMemAddr
0000000A  errBadEnv
0000000B  errBadFmt
0000000C  errAccCde
0000000D  errInvDat
0000000F  errBadDrv
00000010  errDelCD
00000011  errDevUnk
00000012  errNoFil
00000013  drvErrShft
00000013  errWpd
00000014  errUnkUnt
00000015  errDrvNR
00000016  errUnkCmd
00000017  errCRCerr
00000018  errBadRLn
00000019  errSekErr
0000001A  errUnkMed
0000001B  errSecNF
0000001C  errNoPap
0000001D  errWF
0000001E  errRF
0000001F  errGF
00000020  errShrVio
00000021  errLokVio
00000022  errIDC
00000023  errNoFCB
00000024  errShrFul
00000032  errNoNet
00000050  errFilExist
00000052  errDirExist
00000053  errFI44
00000054  errRedir
00000055  errDupRedir
00000056  errBadPass
00000057  errBadParam
00000058  errNetWrite
00000001  eLocUnk
00000002  eLocDsk
00000003  eLocNet
00000004  eLocChr
00000005  eLocMem
00000001  eActRet
00000002  eActDRet
00000003  eActUsr
00000004  eActAbt
00000005  eActKil
00000006  eActIgn
00000007  eActRetUsr
00000001  eClsOoR
00000002  eClsTS
00000003  eClsAuth
00000004  eClsInt
00000005  eClsHrdFlt
00000006  eClsSysFlt
00000007  eClsAppFlt
00000008  eClsNotFnd
00000009  eClsBadFmt
0000000A  eClsLocked
0000000B  eClsMedia
0000000C  eClsClash
0000000D  eClsUnk
00000000  sysVars
00000000  sysVars.dpbHeadPtr
00000008  sysVars.sftHeadPtr
00000010  sysVars.clockPtr
00000018  sysVars.vConPtr
00000020  sysVars.maxBytesSec
00000022  sysVars.bufHeadPtr
0000002A  sysVars.cdsHeadPtr
00000032  sysVars.fcbsHeadPtr
0000003A  sysVars.numSafeSFCB
0000003C  sysVars.numPhysVol
0000003D  sysVars.lastdrvNum
0000003E  sysVars.numBuffers
0000003F  sysVars.nulDevHdr
00000061  sysVars.numJoinDrv
00000062  sysVars_size
0000002A  ioReqPkt_size
00000000  sda
00000000  sda.critErrFlag
00000001  sda.inDOS
00000002  sda.errorDrv
00000003  sda.errorLocus
00000004  sda.errorExCde
00000006  sda.errorAction
00000007  sda.errorClass
00000008  sda.errorVolLbl
00000010  sda.currentDTA
00000018  sda.currentPSP
00000020  sda.xInt23hRSP
00000028  sda.errorLevel
0000002A  sda.currentDrv
0000002B  sda.breakFlag
0000002C  sda.oldRAX
00000034  sda.serverPSP
0000003C  sda.machineNum
0000003E  sda.firstMCB
00000046  sda.bestMCB
0000004E  sda.lastMCB
00000056  sda.dirEntryNum
00000058  sda.volIdFlag
00000059  sda.xInt24hRSP
00000061  sda.Int24bitfld
00000062  sda.fileDirFlag
00000063  sda.Int24Fail
00000064  sda.oldoldRSP
0000006C  sda.dosReturn
00000074  sda.oldRSP
0000007C  sda.oldRBX
00000084  sda.dirFlag
00000085  sda.ctrlCExit
00000086  sda.fcbSpaceOk
00000087  sda.dayOfMonth
00000088  sda.monthOfYear
00000089  sda.years
0000008A  sda.daysOffset
0000008C  sda.dayOfWeek
0000008D  sda.vConDrvSwp
0000008E  sda.int28Flag
0000008F  sda.Int24Trans
00000090  sda.secdReqPkt
000000BA  sda.primReqPkt
000000E4  sda.critReqPkt
0000010E  sda.pspCopyFlg
0000010F  sda.CLOCKrecrd
00000115  sda.singleIObyt
00000117  sda.buffer1
00000197  sda.buffer2
00000217  sda.fname1Ptr
0000021F  sda.fname2Ptr
00000227  sda.skipDisk
00000228  sda.dosffblock
00000253  sda.curDirCopy
00000273  sda_size
0000009A  bssLen


---- Section .text ------------------------------------------------------------

Real              Virtual           Name
               0                 0  startMain
               2                 2  startMain.vNum
               3                 3  startMain.cVersion
              21                21  badPrintExit
              2F                2F  okVersion
              67                67  parseCmdLine
              A2                A2  badPrmsExit
              AE                AE  badParmExit
              BA                BA  endParse
              E7                E7  endParse.g2
             102               102  endParse.switchDone
             10A               10A  delSubst
             1B2               1B2  delSubst.lp
             1C4               1C4  delSubst.exit
             1C9               1C9  delSubst.dpbFnd
             1D5               1D5  delSubst.error
             1DF               1DF  addSubst
             22B               22B  addSubst.gotDrvSpec
             276               276  addSubst.notDefault
             2C3               2C3  addSubst.pathSepFnd
             2C4               2C4  addSubst.cplp
             324               324  addSubst.substNotDir
             335               335  addSubst.fnd
             35F               35F  addSubst.rtDir
             372               372  addSubst.inDOSBadExit
             37C               37C  addSubst.destNumOk
             389               389  addSubst.inDOSBadNetExit
             39A               39A  addSubst.destNotNet
             400               400  addSubst.notTrailing
             41D               41D  addSubst.getCds
             42B               42B  ..@55._ret
             42C               42C  printSubst
             445               445  printSubst.lp
             482               482  printSubst.gotoNextCDS
             48F               48F  exit
             49B               49B  checkSwitchOk
             4B0               4B0  ..@57._base
             4B2               4B2  ..@58._ret
             4B3               4B3  ..@57.a
             4B8               4B8  ..@60._base
             4BA               4BA  checkSwitchOk.bad
             4BB               4BB  ..@61._ret
             4BC               4BC  enterDOSCrit
             4C5               4C5  ..@62._ret
             4C6               4C6  exitDOSCrit
             4CF               4CF  ..@63._ret
             4D0               4D0  skipDelims
             4DB               4DB  ..@64._ret
             4DC               4DC  findDelimOrCR
             4E7               4E7  ..@65._ret
             4E8               4E8  isALDelimOrCR
             4EA               4EA  ..@67._base
             4EC               4EC  isALDelim
             4EE               4EE  ..@69._base
             4F2               4F2  ..@71._base
             4F6               4F6  ..@73._base
             4FA               4FA  ..@75._base
             4FE               4FE  ..@76._ret
             4FF               4FF  badNetStr
             51E               51E  badVerStr
             533               533  crlf
             536               536  badPrmsStr
             557               557  badParmStr
             56B               56B  badPathStr
             57C               57C  substStr

---- Section transient --------------------------------------------------------

Real              Virtual           Name
             588               588  bssStart
             588               588  pSysvars
             590               590  pVar1
             598               598  pVar2
             5A0               5A0  srcDrv
             5A1               5A1  destDrv
             5A2               5A2  inCDS
             78A               78A  endOfAlloc

